<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>About "Drum Machine Joy!"</title>

<link rel="stylesheet" type="text/css" href="style.css" />

<style>

#theBlock {
  border-bottom: 2px solid black;
  width: 520px;
}

</style>

</head>
<body>

<div class="mainDiv">
<h1>Drum Machine Joy!</h1>

<div class="block" id="theBlock">
<h2 class="blockHeading">What is this?</h2>
<p>This is a project for Stanford's <a href="http://www.stanford.edu/class/cs193c/">CS193C</a>.
It's a <a href="http://en.wikipedia.org/wiki/Drum_machine">drum machine</a> that runs in a web browser.
Basically, you create a pattern in the main grid and the browser will play it repeatedly in a loop.
Changes to the grid update the pattern as it plays, with a short delay.
I didn't have a lot of time to add features, so I added the ones I wanted most in a drum machine: the ability to do odd meters like 5/4 and 7/4 the ability
to combine sixteenth notes and sextuplets in the same pattern.</p>

<h2 class="blockHeading">Browser Compatibility</h2>
<p>I focused on HTML5 conformance instead of browser compatibility.
This machine should work in any browser that supports HTML5, so long as there are not performance issues and the browser supports the WAV audio format.
I've confirmed that it works in Firefox and Chrome on a PC and Safari on a MacBook.
It does not work in IE9, because IE9 <a href="http://www.garretwilson.com/blog/2012/01/17/ie9-html5-wav.xhtml">does not</a> support the WAV audio format.</p>

<h2 class="blockHeading">Performance</h2>
<p>Performance isn't what I want it to be.
I tested it on a PC laptop, a MacBook, a PC netbook, and an iPad.
The drum machine worked well on the laptops in Firefox, Chrome and Safari, so long as I didn't have any other browser tabs open and I didn't load up the processor with other tasks.
Setting the browser's process' to priority "high" or "real time" helps.
The drum machine played erratically in Firefox on the netbook.
The drum machine failed to play altogether on an iPad.  Safari on iPad <a href="http://developer.apple.com/library/safari/#documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html">supports</a> the HTML5 Audio element and WAV, so I'm guessing the issue is a performance issue.  Further testing is needed.
</p>

<h2 class="blockHeading">Future Work</h2>
<p>
I'd like to use Web Audio API.
I didn't use it because it isn't offically HTML5 yet and <a href="http://caniuse.com/audio-api">Caniuse</a> said it wasn't supported by IE9 and iOS Safari, but seeing that my current implementation doesn't work on an iPad and can't work in IE, I might as well use it.
iOS 6 will support Web Audio soon, anyway. 
Javascript's scheduling mechanism (understandably) doesn't provide the exactness you'd want for sequencing music, but Web Audio API does.
</p>

<h2 class="blockHeading" id="credits">Credits</h2>
<p>I acquired all the drum sounds from <a href="http://www.drumsamples.org/">drumsamples.org</a>, which has a very nice library of drum sounds, all in the same 16-bit mono 44.1 kHz WAV format, all synched to the start of their files such that incorporating them in this drum machine was as easy as could be.  Thanks, Zuzz, whoever you are!</p>
<p>The name "Drum Machine Joy" is the title of a <a href="http://www.joyelectric.com/albums/items/melody.html">song</a> by <a href="http://www.joyelectric.com/">Joy Electric</a> which was <a href="http://www.mxpx.com/product/cover">covered</a> by <a href="http://www.mxpx.com/">MxPx</a> quite a while ago.</p>
<p><a href="https://ccrma.stanford.edu/courses/422/projects/WaveFormat/">This page</a> was my reference for the WAV sound format.</p>
<p>Pedro Adaria's <a href="http://codebase.es/riffwave/">riffwave.js</a> was helpful to me when I was learning how to convert arrays of numbers to base64 and vice versa.  I did borrow 11 lines of his code, which is duly marked in my source code.</p>

</div>

<div class="link">
  <a href="http://mackwai.blogspot.com/2012/09/drum-machine-joy.html">My Blog</a>
  | <a href="index.html">Back to the drum machine...</a>
</div>

</div>

</body>
</html>
